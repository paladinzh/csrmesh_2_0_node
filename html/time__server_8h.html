Copyright 2015 Qualcomm Technologies International, Ltd.<br>
Bluetooth Low Energy CSRmesh 2.0<br>
CSRmesh&trade; is a product of Qualcomm Technologies International Ltd.
<hr width="100%">
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_873dee8b871f73cb87efeebfef7ea388.html">model_code</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">time_server.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file provides the prototypes of the server functions defined in the CSRmesh Time model.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4cdf0ed793aad1e16523d0ae6a0cc1c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___c_s_rmesh.html#ga8e7cc458514ffe949b22e3eaee036ea2">CSRmeshResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___time___server.html#ga4cdf0ed793aad1e16523d0ae6a0cc1c0">TimeModelInit</a> (CsrUint8 nw_id, CsrUint16 *group_id_list, CsrUint16 num_groups, <a class="el" href="group___models.html#gaa0ffc3c5dd3c4ebfd4a7c24d363cc3ad">CSRMESH_MODEL_CALLBACK_T</a> app_callback)</td></tr>
<tr class="memdesc:ga4cdf0ed793aad1e16523d0ae6a0cc1c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Model Initialisation.  <a href="group___time___server.html#ga4cdf0ed793aad1e16523d0ae6a0cc1c0">More...</a><br /></td></tr>
<tr class="separator:ga4cdf0ed793aad1e16523d0ae6a0cc1c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8809c4a83c4e7d665365fa3c68cba7cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___c_s_rmesh.html#ga8e7cc458514ffe949b22e3eaee036ea2">CSRmeshResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___time___server.html#ga8809c4a83c4e7d665365fa3c68cba7cb">TimeState</a> (CsrUint8 nw_id, CsrUint16 dest_id, <a class="el" href="struct_c_s_r_m_e_s_h___t_i_m_e___s_t_a_t_e___t.html">CSRMESH_TIME_STATE_T</a> *p_params)</td></tr>
<tr class="memdesc:ga8809c4a83c4e7d665365fa3c68cba7cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set time broadcast interval.  <a href="group___time___server.html#ga8809c4a83c4e7d665365fa3c68cba7cb">More...</a><br /></td></tr>
<tr class="separator:ga8809c4a83c4e7d665365fa3c68cba7cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab660d5c07bce70c7d7e119dea2630647"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___c_s_rmesh.html#ga8e7cc458514ffe949b22e3eaee036ea2">CSRmeshResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___time___server.html#gab660d5c07bce70c7d7e119dea2630647">TimeTime</a> (CsrUint8 nw_id, CsrUint16 dest_id, <a class="el" href="struct_c_s_r_m_e_s_h___t_i_m_e___t_i_m_e___t.html">CSRMESH_TIME_TIME_T</a> *p_params)</td></tr>
<tr class="memdesc:gab660d5c07bce70c7d7e119dea2630647"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set wallclock time.  <a href="group___time___server.html#gab660d5c07bce70c7d7e119dea2630647">More...</a><br /></td></tr>
<tr class="separator:gab660d5c07bce70c7d7e119dea2630647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6c37a373b87b09196e0a823440c14dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___c_s_rmesh.html#ga8e7cc458514ffe949b22e3eaee036ea2">CSRmeshResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___time___server.html#gac6c37a373b87b09196e0a823440c14dd">TimeBroadcast</a> (CsrUint8 nw_id, CsrUint16 dest_id, <a class="el" href="struct_c_s_r_m_e_s_h___t_i_m_e___b_r_o_a_d_c_a_s_t___t.html">CSRMESH_TIME_BROADCAST_T</a> *p_params)</td></tr>
<tr class="memdesc:gac6c37a373b87b09196e0a823440c14dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronise wall clock time from client device: This message is always sent with TTL=0. This message is sent at intervals by the clock master. It is always sent with TTL=0. It is repeated, but the time is updated before each repeat is sent. The clock master repeats the message 5 times, relaying stations repeat it 3 times. When a node receives a clock broadcast its behaviour depends on the current clock state: <br />
 MASTER: Ignore broadcasts.<br />
 INIT: Start the clock; relay this message. Set state to NO_RELAY if MasterFlag set, otherwise RELAY_MASTER. Start relay timer.<br />
 RELAY: Correct clock if required. Relay this message. Set state to NO_RELAY if MasterFlag set, otherwise RELAY_MASTER. Start relay timer.<br />
 NO_RELAY: Ignore. State will be reset to RELAY when the relay timer goes off.<br />
 RELAY_MASTER: Relay message only if it is from the clock master and set state to NO_RELAY.<br />
 The relay timer is by default 1/4 of the clock broadcast interval (15 seconds if the interval is 60 seconds). This means that each node will relay a message only once, and will give priority to messages from the clock master (which always causes the clock to be corrected). Messages from other nodes will only cause clock correction if they exceed the max clock skew (250ms).  <a href="group___time___server.html#gac6c37a373b87b09196e0a823440c14dd">More...</a><br /></td></tr>
<tr class="separator:gac6c37a373b87b09196e0a823440c14dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 27 2015 21:11:35 for CSRmesh &trade; API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
